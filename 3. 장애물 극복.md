# 1. 장애물 분석 연구 

**주행 코스에는 여러가지 장애물들이 펼쳐저 있는데, 크게 종류는 단일, 복합, 다중 3가지 이다.**

**이번 프로젝트를 진행하면서 매우 다양한 어려움을 만났다. 그 어려움들을 극복한 방식과**

**연구결과 및 접근방식을 소개하고자 한다.**

<br>

<br>

- **단일 방식**

  ![KakaoTalk_20220821_160205917](https://user-images.githubusercontent.com/89068148/185780140-0e1514f1-20c2-4d88-9ec1-ecaeeccc928f.jpg)

  가장 흔한 방식의 장애물, 전체 장애물 중 60%을 차지함.

  이 경우, 차량 주행 운신의 폭이 넓고, 가능한 경우의 수가 많기 때문에 쉽게 극복 가능

  <br>

- **복합 방식**

  ![KakaoTalk_20220821_160205917](https://user-images.githubusercontent.com/89068148/185780199-c05f9e1b-5dd7-420b-831a-07e73ad4f16b.jpg)

  단순히 장애물의 갯수가 늘어난 방식으로, 차량이 지나갈 수 있는 경로의 가짓수가 줄어들 뿐, 

  극복 자체는 쉬운 편

  <br>

  ![KakaoTalk_20220821_160205917](https://user-images.githubusercontent.com/89068148/185780240-c1b29a12-1e77-4343-997f-1e8877c4ed23.jpg)

  위의 경우처럼 장애물의 갯수가 늘어난 방식이나, 극복 가능한 경우를 1가지로 제한한 경우로, 
  경로 분석을 통해 가능한 경로 1지점을 찾아내야 함.

  <br>

  <br>

- **다중 방식**

  ![KakaoTalk_20220821_160205917](https://user-images.githubusercontent.com/89068148/185780266-66e8bebd-f7a8-4ced-a4c9-6e1c77d34c7d.jpg)

<br>

<br>

### 2. 도로 정보를 2차원 map으로 표현하기

- **1차 설계 - 기본 도로 형태 반영**

  ```
  도로 폭 : 중앙선 점 기준으로 좌우 일정 m 씩 떨어진 형태 (주행코스 별 상이)
           여기선 임의로 10m 로 표시
  ```

  <br>![KakaoTalk_20220821_180157534](https://user-images.githubusercontent.com/89068148/185783791-824effb9-69c4-4632-a575-d1be8b5707d5.jpg)

  도로의 중앙선의 점들의 좌표를 구할 수 있다면, 그림처럼 중앙좌표(a,b,c,d)를 기준으로 

  좌우로 도로폭(10m) 의 절반(5m)씩 뻗어 나가면 도로의 형태를 그릴 수 있다.

  그림의 경우로 보자면, 시뮬레이터에서 api로 제공하는 정보들을 이용하여,  중앙선의 점들의

  좌표를 가져온다.

  <br>

  ![KakaoTalk_20220821_162832831_07](https://user-images.githubusercontent.com/89068148/185783950-c687ba52-f11c-47e3-8514-5f0b3adf09c3.jpg)

  2차원 배열을 MAP이라고 할때,

  각 원소는 1m의 정사각형을 나타낸다.

  따라서 각 중앙점 a, b, c, d으로부터 좌우 5칸은 도로의 좌우 간격이 각각 5m임을 표현한다.

  <br>

  ![KakaoTalk_20220821_162832831_07](https://user-images.githubusercontent.com/89068148/185784183-dcaaab54-8819-45d3-85ce-d377a2e7250d.jpg)

  예시로 위의 그림에서 차량의 중앙점은 `MAP[11][5]` 으로 나타낼 수 있다.

  <br>

  #### 중앙선 점 좌표

  그렇다면, 도로의 중앙점의 좌표를 어떻게 받아 올 수 있을까?

  **to_middle 과 moving_angle**

  ![KakaoTalk_20220821_183039073](https://user-images.githubusercontent.com/89068148/185784747-b0b14ebd-b750-4b30-8a17-fbbfae657774.jpg)

  **distance_to_way_points**

  

  

  

  

  

  

  - 기본 도로 형태를 2차원 배열로 표현한다.

    

  - 도로 폭은 중앙선 기준  

- 2차 표현 목표 : 도로 좌우 폭, 중앙선 위치 

가장 처음 접근한 방식이다. 

모든 경로, 도로폭, 장애물 정보, 차량 정보를 2차원 배열 형태로 표현하는 방식

****